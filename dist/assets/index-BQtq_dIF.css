*{margin:0;padding:0;box-sizing:border-box}:root{--header-bg: #ffffff;--footer-bg: #f8fafc;--workspace-bg: #f1f5f9;--card-bg: #ffffff;--primary: #3b82f6;--primary-hover: #2563eb;--accent: #06b6d4;--accent-hover: #0891b2;--text-dark: #1e293b;--text-medium: #475569;--text-light: #64748b;--border: #cbd5e1;--border-light: #e2e8f0;--shadow: rgba(15, 23, 42, .08);--shadow-hover: rgba(15, 23, 42, .12)}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--text-dark);line-height:1.5}.app{display:flex;flex-direction:column;min-height:100vh;background:var(--workspace-bg)}.header{background:var(--header-bg);padding:20px 24px;box-shadow:0 1px 3px var(--shadow);position:sticky;top:0;z-index:100;border-bottom:1px solid var(--border-light)}.header-container{max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:16px}.header-brand{display:flex;align-items:center;gap:12px}.brand-icon{color:var(--primary)}.brand-title{font-size:24px;font-weight:700;color:var(--text-dark)}.header-controls{display:flex;flex-wrap:wrap;gap:16px;align-items:flex-end}.control-group{display:flex;flex-direction:column;gap:6px;flex:1;min-width:200px}.control-label{font-size:12px;font-weight:600;color:var(--text-medium);text-transform:uppercase;letter-spacing:.5px}.control-select,.control-input{padding:10px 14px;border:1px solid var(--border);border-radius:8px;font-size:14px;background:#fff;color:var(--text-dark);transition:all .2s}.control-select{width:fit-content;min-width:200px}.control-select:focus,.control-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.input-with-button{display:flex;gap:8px}.input-with-button .control-input{flex:1}.btn-prepare{display:flex;align-items:center;gap:6px;padding:10px 18px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-prepare:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f640}.header-actions{display:flex;gap:8px;flex-wrap:wrap}.btn-action{display:flex;align-items:center;gap:6px;padding:10px 16px;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-action.btn-primary{background:var(--primary);color:#fff}.btn-action.btn-primary:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f640}.btn-action.btn-secondary{background:#fff;color:var(--text-medium);border:1px solid var(--border)}.btn-action.btn-secondary:hover{background:var(--workspace-bg);border-color:var(--border);color:var(--text-dark);transform:translateY(-1px)}.workspace{flex:1;padding:40px 24px;background:var(--workspace-bg);overflow-y:auto}.workspace-container{max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:32px;align-items:center}.empty-state{text-align:center;padding:60px 24px;color:var(--text-medium);font-size:18px}.scenes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;width:100%}.scene-card{background:var(--card-bg);border-radius:12px;padding:20px;border:1px solid var(--border-light);box-shadow:0 2px 8px var(--shadow);transition:all .2s}.scene-card:hover{box-shadow:0 4px 16px var(--shadow-hover);transform:translateY(-2px);border-color:var(--border)}.scene-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.scene-number{font-size:14px;font-weight:700;color:var(--text-dark);text-transform:uppercase;letter-spacing:.5px}.btn-icon{background:none;border:none;padding:6px;color:var(--text-light);cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center}.btn-icon:hover{background:#fee2e2;color:#dc2626}.scene-image{position:relative;width:100%;aspect-ratio:16 / 9;background:var(--workspace-bg);border-radius:8px;overflow:hidden;margin-bottom:16px;border:1px solid var(--border-light)}.scene-image img{width:100%;height:100%;object-fit:cover}.image-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;color:var(--text-light)}.btn-download{position:absolute;top:8px;right:8px;background:#fffffff2;border:none;padding:8px;border-radius:6px;cursor:pointer;color:var(--text-dark);transition:all .2s;display:flex;align-items:center;justify-content:center}.btn-download:hover{background:#fff;transform:scale(1.05)}.scene-controls{display:flex;flex-direction:column;gap:10px}.scene-description{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;font-size:14px;font-family:inherit;resize:vertical;transition:all .2s}.scene-description:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.btn-generate{display:flex;align-items:center;justify-content:center;gap:6px;padding:10px 16px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-generate:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f640}.btn-add-scene{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;width:200px;height:200px;background:var(--primary);color:#fff;border:none;border-radius:50%;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s;box-shadow:0 8px 24px #3b82f64d}.btn-add-scene:hover{background:var(--primary-hover);transform:scale(1.05);box-shadow:0 12px 32px #3b82f666}.footer{background:var(--footer-bg);padding:16px 24px;box-shadow:0 -1px 3px var(--shadow);border-top:1px solid var(--border-light)}.footer-container{max-width:1600px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:16px}.footer-left,.footer-right{display:flex;align-items:center;gap:12px}.project-info{display:flex;align-items:center;gap:8px;color:var(--text-dark)}.project-title-input{padding:8px 12px;border:1px solid var(--border);border-radius:6px;font-size:14px;font-weight:600;background:#fff;color:var(--text-dark);min-width:200px;transition:all .2s}.project-title-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.footer-center{flex:1;text-align:center}.status-text{font-size:14px;font-weight:600;color:var(--text-dark)}.btn-footer{display:flex;align-items:center;gap:6px;padding:8px 14px;background:#fff;color:var(--text-medium);border:1px solid var(--border);border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-footer:hover{background:var(--workspace-bg);border-color:var(--border);color:var(--text-dark);transform:translateY(-1px)}.btn-footer.btn-save{background:var(--primary);color:#fff;border-color:var(--primary)}.btn-footer.btn-save:hover{background:var(--primary-hover);border-color:var(--primary-hover);box-shadow:0 4px 12px #3b82f640}.loading-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--workspace-bg);color:var(--text-dark);gap:20px}.loading-spinner{width:50px;height:50px;border:4px solid var(--border-light);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.scene-title{font-size:16px;font-weight:600;color:var(--text-dark);margin:0 0 12px;padding:0;line-height:1.3}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:600px;max-height:90vh;overflow:auto;animation:modalFadeIn .2s ease-out}.modal-content-large{max-width:700px}@keyframes modalFadeIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 16px;border-bottom:1px solid var(--border-light)}.modal-title{font-size:20px;font-weight:700;color:var(--text-dark);margin:0}.modal-close{background:none;border:none;padding:8px;color:var(--text-light);cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;justify-content:center}.modal-close:hover{background:var(--workspace-bg);color:var(--text-dark)}.modal-body{padding:24px}.modal-label{display:block;font-size:14px;font-weight:600;color:var(--text-medium);margin-bottom:8px}.modal-textarea{width:100%;padding:12px 14px;border:1px solid var(--border);border-radius:8px;font-size:15px;font-family:inherit;resize:vertical;transition:all .2s;line-height:1.6}.modal-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px 24px;border-top:1px solid var(--border-light)}.btn-modal-cancel{padding:10px 20px;background:#fff;color:var(--text-medium);border:1px solid var(--border);border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-modal-cancel:hover{background:var(--workspace-bg);border-color:var(--border);color:var(--text-dark)}.btn-modal-submit{padding:10px 20px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-modal-submit:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f640}.btn-modal-submit:disabled{opacity:.5;cursor:not-allowed}.scene-input-group{margin-bottom:20px}.scene-input-group:last-of-type{margin-bottom:16px}.scene-input-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.btn-remove-scene{background:none;border:none;padding:6px;color:#ef4444;cursor:pointer;border-radius:4px;transition:all .2s;display:flex;align-items:center;justify-content:center}.btn-remove-scene:hover{background:#fee;color:#dc2626}.btn-add-another{width:100%;padding:12px;background:var(--workspace-bg);color:var(--text-medium);border:2px dashed var(--border);border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px}.btn-add-another:hover{background:#fff;border-color:var(--primary);color:var(--primary)}.scene-manual-fields{display:flex;flex-direction:column;gap:12px}.manual-field{display:flex;flex-direction:column;gap:6px}.field-label{font-size:13px;font-weight:600;color:var(--text-medium)}.modal-input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:6px;font-size:14px;font-family:inherit;transition:all .2s}.modal-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.modal-tabs{display:flex;gap:4px;padding:0 24px;border-bottom:1px solid var(--border-light)}.modal-tab{flex:1;padding:12px 20px;background:none;border:none;font-size:14px;font-weight:600;color:var(--text-medium);cursor:pointer;position:relative;transition:all .2s;border-bottom:2px solid transparent}.modal-tab:hover{color:var(--text-dark);background:var(--workspace-bg)}.modal-tab.active{color:var(--primary);border-bottom-color:var(--primary)}.ai-mode,.manual-mode{display:flex;flex-direction:column;gap:16px}.generated-preview{width:100%;border-radius:8px;overflow:hidden;border:1px solid var(--border-light);margin-top:8px}.preview-image{width:100%;height:auto;display:block}.generated-options{margin-top:16px}.image-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}.image-option{position:relative;border-radius:8px;overflow:hidden;border:2px solid var(--border-light);cursor:pointer;transition:all .2s ease;aspect-ratio:1}.image-option:hover{border-color:var(--primary);transform:scale(1.02)}.image-option.selected{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f633}.option-image{width:100%;height:100%;object-fit:cover;display:block}.selected-indicator{position:absolute;top:8px;right:8px;background:var(--primary);color:#fff;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;box-shadow:0 2px 4px #0003}.image-upload-section{display:flex;flex-direction:column;gap:12px}.upload-btn-wrapper{position:relative;overflow:hidden;display:inline-block}.btn-upload{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;background:#fff;color:var(--text-medium);border:1px solid var(--border);border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;width:100%}.btn-upload:hover{background:var(--workspace-bg);border-color:var(--primary);color:var(--primary)}.file-input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.upload-divider{text-align:center;color:var(--text-light);font-size:13px;font-weight:600;position:relative}.upload-divider:before,.upload-divider:after{content:"";position:absolute;top:50%;width:40%;height:1px;background:var(--border-light)}.upload-divider:before{left:0}.upload-divider:after{right:0}.image-preview{margin-top:12px;border-radius:8px;overflow:hidden;border:1px solid var(--border-light)}.preview-image-small{width:100%;max-height:200px;object-fit:cover;display:block}.modal-input:disabled{background:var(--workspace-bg);cursor:not-allowed;opacity:.6}@media (max-width: 768px){.header-controls{flex-direction:column;align-items:stretch}.control-group{min-width:100%}.header-actions{justify-content:stretch}.btn-action{flex:1;justify-content:center}.scenes-grid{grid-template-columns:1fr}.footer-container{flex-direction:column;gap:12px}.footer-left,.footer-right{width:100%;justify-content:center}}.error-message{padding:16px;background-color:#fee;border:1px solid #fcc;border-radius:8px;color:#c33;font-size:14px;line-height:1.5;margin:16px 0}.scene-header-left{display:flex;align-items:center;gap:8px}.drag-handle{color:var(--text-light);cursor:grab;transition:color .2s}.drag-handle:active{cursor:grabbing}.drag-handle:hover{color:var(--text-dark)}.scene-card:hover .drag-handle{color:var(--primary)}.scene-content{margin-bottom:16px}.scene-description-text{font-size:14px;line-height:1.6;color:var(--text-dark);margin:0;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.scene-actions{display:flex;gap:8px;justify-content:flex-end}.btn-edit{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-edit:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f640}.placeholder-content{display:flex;flex-direction:column;align-items:center;gap:8px}
